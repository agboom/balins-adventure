## Getting Started With Development

    make install && npm install && npm install -g gulp && gem install compass
    gulp
    source .virtualenv/bin/activate
    mysql -u root << "create database csrdelft_django; grant all privileges on `csrdelft_django`.* to csrdelft@localhost identified by 'bl44t';"
    cd src
    ./manage.py migrate
    ./manage.py runserver

### Migrating old models

The idea is to take the existing production database, create a model + migration on the django side
that is compatible with it, migrate the existing data as exampled below and take it from there.

## Apps

### Base

You can import the data from 'profielen' on the database after migration 0001 (or 0002)

    mysqldump -u root profielen --no-create-info -c > profielen_data.sql
    mysql -u root csrdelft_django < profielen_data.sql

You can import the data from 'groepen' on the database after base migration 0003:

    mysqldump -u root csrdelft \
      kringen kring_leden \
      commissies commissie_leden \
      besturen bestuurs_leden \
      werkgroepen werkgroep_deelnemers \
      verticalen verticale_leden \
      onderverenigingen ondervereniging_leden \
      lichtingen lichting_leden \
      ketzers ketzer_deelnemers \
      activiteiten activiteit_deelnemers \
      groepen groep_leden \
      --no-create-info -c > groepen_data.sql
    mysql -u root csrdelft_django < groepen_data.sql

### Forum

You can import the data from the production database after it's initial migration 0001:

    mysqldump -u root csrdelft \
      forum_posts forum_draden_gelezen forum_draden_reageren \
      forum_draden_volgen forum_draden_verbergen forum_categorien \
      forum_delen forum_draden --no-create-info -c > forum_data.sql
    mysql -u root csrdelft_django < forum_data.sql

#### Backwards compatability

To use the legacy production database *directly as a backend*, you need to
fake migration 0001 and make sure the database is field-wise the same as the one generated by
django. The one difference being the id columns on the following tables, which were added:

    forum_draden_gelezen
    forum_draden_reageren
    forum_draden_verbergen
    forum_draden_volgen

## TODO

- Add password policies (has been implemented for django)

## Notes

### Setting up

1. **pyjade has some trouble with django 1.8**
   This might fix it: `pip install --upgrade git+https://github.com/syrusakbary/pyjade.git`
2. **How do I django???**
   Django has EXCELLENT documentation: https://docs.djangoproject.com/en/1.8/
3. **How can I CLI???**
   By default IPython and Django extensions are installed, so you can `./manage.py shell_plus`
   to open a top-notch shell with autocomplete, colors, great debugging and all the models
   preloaded.
4. **Migrations???**
   Ain't it awesome? Remember these commands:

     ./manage.py makemigrations # to generate new migrations based on model changes (CHECK!)
     ./manage.py migrate # make db up to date
     ./manage.py migrate <appname> <000x> # migrate specific app to specific migration
     ./manage.py makemigrations --empty base # create new data migration for app base
